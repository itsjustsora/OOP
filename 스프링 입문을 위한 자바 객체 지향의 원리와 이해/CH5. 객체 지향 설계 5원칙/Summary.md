### 객체 지향 설계(OOD; Object Oriented Design)의 5원칙 - SOLID

- SRP(Single Responsibility Principle): 단일 책임 원칙
- OCP(Open Closed Principle): 개방 폐쇄 원칙
- LSP(Liskov Substitution Principle): 리스코프 치환 원칙
- ISP(Interface Segregation Principle): 인터페이스 분리 원칙
- DIP(Dependency Inversion Principle): 의존 역전 원칙

⇒ Soc(Separation Of Concerns): 관심이 같은 것끼리는 하나의 객체 안으로 모으고 관심이 다른 것은 서로 영향을 주지 않도록 분리

⇒ SOLID 원칙을 적용하면 소스 파일의 개수는 더 많아지는 경향이 있는데 이렇게 많아진 파일이 논리를 더욱 잘 분할하고, 잘 표현하기에 이해하기 쉽고, 개발하기 쉬우며, 유지와 관리, 보수하기 쉬운 소스가 만들어진다.

**NOTE.** 좋은 소프트웨어 설계를 위해서는 **결합도(coupling)는 낮추고 응집도(cohesion)은 높이는 것이 바람직**하다.

- 결합도는 **모듈(클래스) 간의 상호 의존 정도**로서 결합도가 낮으면 모듈 간의 상호 의존성이 줄어들어 **객체의 재사용이나 수정, 유지보수가 용이**하다.
- 응집도는 **하나의 모듈 내부에 존재하는 구성 요소들의 기능적 관련성**으로, 응집도가 높은 모듈은 **하나의 책임에 집중**하고 **독립성이 높아져** 재사용이나 기능의 수정, 유지보수가 용이하다.

---

**[SRP: 단일 책임 원칙]**

*“어떤 클래스를 변경해야 하는 이유는 오직 하나뿐이어야 한다.” - 로버트 C.마틴*

- 한 클래스에 다양한 역할과 책임을 부여하지 않고 **하나의 클래스가 하나의 역할**을 하도록 한다.
- 하나의 속성이 여러 의미를 가져서 분기문으로 처리해야 하는 것도 단일 책임 원칙을 지키지 못하는 경우이다.
- 애플리케이션의 경계를 정하고 추상화를 통해 클래스들을 선별하고 속성과 메서드를 설계할 때 반드시 단일 책임 원칙을 고려하자.

**[OCP: 개방 폐쇄 원칙]**

*“소프트웨어 엔티티(클래스, 모듈, 함수 등)는 확장에 대해서는 열려 있어야 하지만 변경에 대해서는 닫혀 있어야 한다.” - 로버트 C.마틴*

- 상위 클래스 또는 인터페이스를 중간에 둔다.
- JDBC: 어떤 데이터베이스를 사용하던 Connection을 설정하는 부분 외에는 따로 수정할 필요가 없다.
- JAVA: 개발자가 작성한 소스코드는 운영체제의 변화에 닫혀 있고, 각 운영체제별 JVM은 확장에 열려 있는 구조.

→ 어떤 변화가 일어나도 근본적인 행위를 수행하는 것에 대해 전혀 영향을 주지 않고 확장을 통해 행위를 추가할 수 있다.

**[LSP: 리스코프 치환 원칙]**

*“서브 타입은 언제나 자신의 기반 타입(base type)으로 교체할 수 있어야 한다.” - 로버트 C.마틴*

→ 하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는데 문제가 없어야 한다.

**[ISP: 인터페이스 분리 원칙]**

*“클라이언트는 자신이 사용하지 않는 메서드에 의존 관계를 맺으면 안 된다.” - 로버트 C.마틴*

- 단일 책임 원칙과 인터페이스 분할 원칙은 같은 문제에 대한 두 가지 다른 해결책
- 특별한 경우가 아니라면 단일 책임 원칙을 적용하는 것이 더 좋은 해결책
- **인터페이스 최소주의 원칙**

  인터페이스를 통해 메서드를 외부에 제공할 때는 최소한의 메서드만 제공


**[DIP: 의존 역전 원칙]**

*“고차원 모듈은 저차원 모듈에 의존하면 안 된다. 이 두 모듈 모두 다른 추상화된 것에 의존해야 한다”*

*“추상화된 것은 구체적인 것에 의존하면 안 된다. 구체적인 것이 추상화된 것에 의존해야 한다.”*

*“자주 변경되는 구체(Concrete) 클래스에 의존하지 마라" - 로버트 C.마틴*

- 자신보다 변하기 쉬운 것에 의존하던 것을 추상화된 인터페이스나 상위 클래스를 두어 **변하기 쉬운 것의 변화에 영향받지 않게 하는 것**
- 상위 클래스일수록, 인터페이스일수록, 추상 클래스일수록 변하지 않을 가능성이 높기 때문에 하위 클래스나 구체 클래스가 아닌 **상위 클래스, 인터페이스, 추상 클래스에 의존**하라

---

📚 책 추천

- Head First Design Patterns - 한빛미디어
- <토비의 스프링 3.1> 에이콘출판
- <도메인 주도 설계란 무엇인가?> 인사이트
- <도메인 주도 설계> 위키북스